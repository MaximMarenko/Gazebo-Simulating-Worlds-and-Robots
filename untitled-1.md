# 12.2 Ускорение аппаратной графики

Для работы физики и графических движков Gazebo требуется довольно много производительности, но она предназначена для использования аппаратного ускорения GPU \(если оно доступно на вашем компьютере\), чтобы снизить нагрузку на CPU. Однако на некоторых машинах аппаратное ускорение может привести к краху графического интерфейса Gazebo, подобно тому, что мы иногда встречаем в RViz.

Если вы отключили аппаратное ускорение ранее в книге из-за проблем с падением RViz, то хорошей идеей будет попробовать включить его снова при запуске Gazebo на всякий случай, вдруг это сработает. Чтобы убедиться, что аппаратное ускорение включено, выполните следующую команду:

```text
$ unset LIBGL_ALWAYS_SOFTWARE
```

Прекратите все процессы gzserver или gzclient, которые вы, возможно, уже запустили, затем вызовите сервер и клиента вместе с командой:

```text
$ gazebo
```

Если графический интерфейс Gazebo появится без проблем, то все хорошо. Если он начинает появляться, а затем возникает ошибка, попробуйте запустить команду gazebo снова два или три раза. \(По какой-то причине, GUI иногда не всплывает при первой попытке, но затем прекрасно работает при последующем запуске\). Если все такие попытки не увенчаются успехом, завершите все запущенные ROS-процессы, включая roscore. Затем перезапустите roscore и попробуйте команду gazebo еще несколько раз.

Если все попытки не увенчаются успехом, попробуйте выключить аппаратное ускорение:

```text
$ export LIBGL_ALWAYS_SOFTWARE=1
```

Это почти всегда решает проблему, хоть и за счет потребления большего количества процессорных циклов. Если это сработает, поместите вышеприведенную команду в конец вашего ~/.bashrc файла \(если вы еще этого не сделали\), чтобы она запускалась каждый раз, когда вы открываете новый терминал.

